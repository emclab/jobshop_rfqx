<% if @view_in_config && @erb_code %>
  <%= render inline: ERB.new(@erb_code).result(binding) %>
  
<% else %>
<%= simple_form_for @rfq do |f| %>    

  <%= f.input :customer_name_autocomplete, :input_html => { data: {autocomplete_source: kustomerx.autocomplete_customers_path}}, :placeholder => "输入关键字", :label => t("Customer") if @customer.blank? %>
  <%= f.input :customer_name, :label => t('Customer'), :readonly => true, :input_html => {:value => @customer.name} if @customer %>
  <%= f.input :customer_id, :as => :hidden, :input_html => {:value => @customer.id} if @customer %>
  <%= f.input :product_name, :label => t("Product Name")  %>  
  <%= f.input :drawing_num, :label => t("Drawing#") %> 
  <%= f.input :dimension_unit, :label => t("Dimension Unit"), :collection => @dim_unit %> 
  <%=t('Qty For Quote')%>:
  <%= f.fields_for :quote_qties, @rfq.quote_qties.first do |builder| %>
    <p>
      <%= render('first_quote_qty', :f => builder)%>
    </p>  
  <% end %>     
  <p><%= link_to_add_fields t("Add Quote Qty"), f, :quote_qties %></p>
  <%= f.input :material_requirement, :label => 'Material Requirement', :input_html => {:rows => 3} %>
  <%= f.input :product_wt, :label => t("Product WT(g)") %> 
  <%= f.input :tech_spec, :label => t("Tech Spec"), :input_html => {:rows => 6} %> 
  <%= f.input :tech_note, :label => t("Tech Note"), :input_html => {:rows => 6} %> 
  <%= f.input :tech_doc, :label => t("Tech Doc"), :input_html => {:rows => 6} %> 
  <%= f.input :est_production_date, :label => t("Est Production Date"), :as => :string %>
  <%= f.input :sales_id, :collection => Authentify::UsersHelper::return_users('sales', params[:controller]), :label => t("Sales"),:label_method => :name, :value_method => :id, :include_blank => true %>
  
  <%= link_to t('Back'), SUBURI + "/authentify/view_handler?index=0", :class => BUTTONS_CLS['action'] %>
  <%= f.button :submit, t('Save') %>  
<% end %>

<% end %>
